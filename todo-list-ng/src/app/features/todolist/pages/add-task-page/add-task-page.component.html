<div class="add-task-container">

  <h2>Ajouter une nouvelle tâche</h2>

  <form (ngSubmit)="onSubmit()" #taskForm="ngForm">

    <!-- Saisie du label de la tâche -->
    <mat-form-field appearance="fill">
      <mat-label>Libellé de la tâche</mat-label>
      <input matInput type="text" id="label" name="label" [(ngModel)]="newTask.label" required #label="ngModel">
      @if (label.invalid && (label.dirty || label.touched)){
        <mat-error>Le libellé est requis.</mat-error>
      }
    </mat-form-field>

    <!-- Saisie de la description de la tâche -->
    <mat-form-field appearance="fill">
      <mat-label>Description</mat-label>
      <textarea matInput id="description" name="description" [(ngModel)]="newTask.description"></textarea>
    </mat-form-field>

    <!-- Boutons -->
    <div class="form-actions">
      <button mat-raised-button color="primary" type="submit" [disabled]="taskForm.invalid">Ajouter la tâche</button>
      <button mat-stroked-button type="button" (click)="goBack()">Annuler</button>
    </div>
  </form>
</div>

@if (loading){
  <div class="loading">
    <img src="loading.gif"/>
  </div>
}
